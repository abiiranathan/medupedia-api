{"version":3,"sources":["webpack://Medupedia/./diseases/static/build-ts/api.js","webpack://Medupedia/./diseases/static/build-ts/disease-template.js","webpack://Medupedia/./diseases/static/build-ts/dom.js","webpack://Medupedia/./diseases/static/build-ts/feature.js","webpack://Medupedia/./diseases/static/build-ts/main.js","webpack://Medupedia/./diseases/static/build-ts/modal.js","webpack://Medupedia/webpack/bootstrap","webpack://Medupedia/webpack/startup"],"names":["async","fetchData","url","response","fetch","status","json","Error","statusText","Object","defineProperty","exports","value","saveNewSign","saveNewSymptom","handleUpdateDisease","handleSaveNewDisease","fetchDiseases","fetchSigns","fetchSymptoms","data","config","method","body","JSON","stringify","headers","res","disease","keys","includes","name","id","ok","description","symptom","sign","getSymptom","getSign","default","_a","about","length","symptoms","map","join","signs","addModalFooterButtons","showDiseaseDetail","hideSpinner","showSpinner","hideErrorMessage","showErrorMessage","hideNameExists","showNameExists","openTab","editDisease","showHomePage","showEditForm","hideEditForm","hideDiseaseDetail","hideHomePage","populateDiseases","selectItems","setUpDiseases","setUpSigns","setUpSymptoms","setDOMState","header","regSignBtn","regSymptomBtn","editForm","addDiseaseForm","diseaseList","searchInput","rmvSignBtn","addSignBtn","filter_signs","chosen_signs","available_signs","rmvSymptomBtn","addSymptomBtn","filter_symptoms","chosen_symptoms","available_symptoms","tabWidget","tabs","feature_1","disease_template_1","modal_1","diseases","startDiseases","addEventListener","e","filter","d","toLocaleLowerCase","indexOf","target","newDiseases","clear","_b","innerHTML","item","document","createElement","txtNode","createTextNode","setAttribute","toString","title","slice","appendChild","onclick","activeDisease","querySelector","cancelBtn","start","setUpNewDiseaseSymptoms","setUpNewDiseaseSigns","click","html","showDiseaseModal","backButton","className","editButton","addFooterButtons","querySelectorAll","getElementById","newSymptoms","newSigns","startSymptoms","startSigns","selectElem","callback","i","options","option","removeAttribute","style","display","closeModal","evt","tabName","tabcontent","tablinks","replace","currentTarget","err","errorResponses","elem","visibility","type","onSaveCallback","sandFeatureToMain","saveButton","form","submitForm","trim","then","feature","opt","alert","catch","console","log","onsubmit","preventDefault","available","chosen","addBtn","removeBtn","initialData","this","selected","Array","from","selectedOptions","o","alreadySelected","addToChosenData","optionsToRemove","remove","addToAvailable","filterData","setData","s","forEach","query","filtered_data","toLowerCase","removeFromAvailable","api","dom","getFormData","savedDisease","sympsNames","symptomsSelected","signNames","signSelected","focus","scrollIntoView","behavior","input","msg","borderColor","getAttribute","window","location","reload","error","showSymptomModal","push","showSignModal","element","diseasesList","symptomsList","signsList","Promise","all","container","resized","onscroll","modal","overlay","modalTitle","closeButtons","modalBody","modalFooter","classList","openModal","add","btn","buttons","__webpack_module_cache__","__webpack_require__","moduleId","module","__webpack_modules__"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.saveNewSign = exports.saveNewSymptom = exports.handleUpdateDisease = exports.handleSaveNewDisease = exports.fetchDiseases = exports.fetchSigns = exports.fetchSymptoms = void 0;\nasync function fetchData(url) {\n    const response = await fetch(url);\n    if (response.status == 200) {\n        const data = await response.json();\n        return data;\n    }\n    else {\n        throw new Error(response.statusText);\n    }\n}\nconst fetchSymptoms = async () => {\n    const url = \"/api/symptoms/?query={id,name,description}\";\n    return await fetchData(url);\n};\nexports.fetchSymptoms = fetchSymptoms;\nconst fetchSigns = async () => {\n    const url = \"/api/signs/?query={id,name,description}\";\n    return await fetchData(url);\n};\nexports.fetchSigns = fetchSigns;\nconst fetchDiseases = async () => {\n    const url = \"/api/diseases/?query={id,name,signs,symptoms,about}\";\n    return await fetchData(url);\n};\nexports.fetchDiseases = fetchDiseases;\nasync function handleSaveNewDisease(data) {\n    const config = {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    };\n    const res = await fetch(\"/api/diseases/\", config);\n    const disease = await res.json();\n    if (res.status === 201) {\n        return disease;\n    }\n    else {\n        if (typeof disease === \"object\" && (Object === null || Object === void 0 ? void 0 : Object.keys(disease).includes(\"name\"))) {\n            throw new Error(`${data.name} has already been registered`);\n        }\n        throw new Error(res.statusText);\n    }\n}\nexports.handleSaveNewDisease = handleSaveNewDisease;\nasync function handleUpdateDisease(id, data) {\n    const config = {\n        method: \"PATCH\",\n        body: JSON.stringify(data),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    };\n    const res = await fetch(`/api/diseases/${id}/`, config);\n    const disease = await res.json();\n    if (res.ok) {\n        return disease;\n    }\n    else {\n        throw new Error(res.statusText);\n    }\n}\nexports.handleUpdateDisease = handleUpdateDisease;\nconst saveNewSymptom = async (name, description) => {\n    const config = {\n        method: \"POST\",\n        body: JSON.stringify({ name, description }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    };\n    const res = await fetch(`/api/symptoms/`, config);\n    const symptom = await res.json();\n    if (res.ok) {\n        return symptom;\n    }\n    else {\n        throw new Error(res.statusText);\n    }\n};\nexports.saveNewSymptom = saveNewSymptom;\nconst saveNewSign = async (name, description) => {\n    const config = {\n        method: \"POST\",\n        body: JSON.stringify({ name, description }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    };\n    const res = await fetch(`/api/signs/`, config);\n    const sign = await res.json();\n    if (res.ok) {\n        return sign;\n    }\n    else {\n        throw new Error(res.statusText);\n    }\n};\nexports.saveNewSign = saveNewSign;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getSymptom = (symptom) => {\n    return `\n        <li>\n            <span>${symptom.name}</span><br>\n            <span>${symptom.description}</span>\n        </li>`;\n};\nconst getSign = (sign) => {\n    return `\n        <li>\n            <span>${sign.name}</span><br>\n            <span>${sign.description}</span>\n        </li>`;\n};\nfunction getDiseaseHTML(disease) {\n    var _a;\n    return `\n  <div class=\"disease-detail\">\n    ${((_a = disease === null || disease === void 0 ? void 0 : disease.about) === null || _a === void 0 ? void 0 : _a.length) > 0 ? `<h4 class=\"section\">Description</h4>` : \"\"}\n    <p id=\"disease__about\">${disease.about}</p>\n    ${disease.symptoms.length > 0 ? `<h4 class=\"section\">Symptoms</h4>` : \"\"}\n    <ul id=\"disease__symptoms\">\n        ${disease.symptoms.map(getSymptom).join(\"\\n\")}\n    </ul>\n    ${disease.signs.length > 0 ? `<h4 class=\"section\">Signs</h4>` : \"\"}\n    <ul id=\"disease__symptoms\">\n        ${disease.signs.map(getSign).join(\"\\n\")}\n    </ul>\n  </div>\n  `;\n}\nexports.default = getDiseaseHTML;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addModalFooterButtons = exports.showDiseaseDetail = exports.hideSpinner = exports.showSpinner = exports.hideErrorMessage = exports.showErrorMessage = exports.hideNameExists = exports.showNameExists = exports.openTab = exports.editDisease = exports.showHomePage = exports.showEditForm = exports.hideEditForm = exports.hideDiseaseDetail = exports.hideHomePage = exports.populateDiseases = exports.selectItems = exports.setUpDiseases = exports.setUpSigns = exports.setUpSymptoms = exports.setDOMState = exports.header = exports.regSignBtn = exports.regSymptomBtn = exports.editForm = exports.addDiseaseForm = exports.diseaseList = exports.searchInput = exports.rmvSignBtn = exports.addSignBtn = exports.filter_signs = exports.chosen_signs = exports.available_signs = exports.rmvSymptomBtn = exports.addSymptomBtn = exports.filter_symptoms = exports.chosen_symptoms = exports.available_symptoms = exports.tabWidget = exports.tabs = void 0;\nconst feature_1 = require(\"./feature\");\nconst disease_template_1 = require(\"./disease-template\");\nconst modal_1 = require(\"./modal\");\nexports.tabs = document.querySelectorAll(\".tablinks\");\nexports.tabWidget = document.querySelector(\".tabWidget\");\nexports.available_symptoms = document.getElementById(\"available_symptoms\");\nexports.chosen_symptoms = document.getElementById(\"chosen_symptoms\");\nexports.filter_symptoms = document.getElementById(\"filter_symptoms\");\nexports.addSymptomBtn = document.querySelector(\"button.arrow.right\");\nexports.rmvSymptomBtn = document.querySelector(\"button.arrow.left\");\nexports.available_signs = document.getElementById(\"available_signs\");\nexports.chosen_signs = document.getElementById(\"chosen_signs\");\nexports.filter_signs = document.getElementById(\"filter_signs\");\nexports.addSignBtn = document.querySelector(\"button.arrow.right.sign\");\nexports.rmvSignBtn = document.querySelector(\"button.arrow.left.sign\");\nexports.searchInput = document.querySelector(\".search-diseases\");\nexports.diseaseList = document.querySelector(\"#disease_list\");\nexports.addDiseaseForm = document.querySelector(\"#add-disease-form\");\nexports.editForm = document.getElementById(\"edit-disease-form\");\nexports.regSymptomBtn = document.querySelector(\".add-symptom\");\nexports.regSignBtn = document.querySelector(\".add-sign\");\nexports.header = document.querySelector(\"header\");\nlet signs, symptoms, diseases;\nconst setDOMState = (newDiseases, newSymptoms, newSigns) => {\n    diseases = newDiseases;\n    signs = newSigns;\n    symptoms = newSymptoms;\n    exports.setUpSymptoms(newSymptoms);\n    exports.setUpSigns(newSigns);\n    setUpDiseases(newDiseases);\n};\nexports.setDOMState = setDOMState;\nconst setUpSymptoms = (startSymptoms) => {\n    new feature_1.default(exports.available_symptoms, exports.chosen_symptoms, exports.filter_symptoms, exports.addSymptomBtn, exports.rmvSymptomBtn, startSymptoms).start();\n};\nexports.setUpSymptoms = setUpSymptoms;\nconst setUpSigns = (startSigns) => {\n    new feature_1.default(exports.available_signs, exports.chosen_signs, exports.filter_signs, exports.addSignBtn, exports.rmvSignBtn, startSigns).start();\n};\nexports.setUpSigns = setUpSigns;\nfunction setUpDiseases(startDiseases) {\n    populateDiseases(startDiseases);\n    exports.searchInput.addEventListener(\"input\", e => {\n        const filteredDiseases = startDiseases.filter(d => d.name\n            .toLocaleLowerCase()\n            .indexOf(e.target.value.toLocaleLowerCase()) > -1);\n        populateDiseases(filteredDiseases);\n    });\n}\nexports.setUpDiseases = setUpDiseases;\nconst selectItems = (selectElem, data, callback = () => { }) => {\n    for (let i = 0; i < selectElem.options.length; i++) {\n        const option = selectElem.options[i];\n        if (data.map(item => item.name).includes(option.value)) {\n            option === null || option === void 0 ? void 0 : option.setAttribute(\"selected\", \"selected\");\n        }\n        else {\n            option === null || option === void 0 ? void 0 : option.removeAttribute(\"selected\");\n        }\n    }\n    if (callback) {\n        callback();\n    }\n};\nexports.selectItems = selectItems;\nfunction populateDiseases(newDiseases, clear = true) {\n    var _a, _b;\n    if (clear) {\n        exports.diseaseList.innerHTML = \"\";\n    }\n    for (const disease of newDiseases) {\n        const item = document.createElement(\"li\");\n        const txtNode = document.createTextNode(disease.name);\n        item.setAttribute(\"id\", disease.id.toString());\n        item.title = (_b = (_a = disease.about) === null || _a === void 0 ? void 0 : _a.slice(0, 20)) !== null && _b !== void 0 ? _b : \"\";\n        item.appendChild(txtNode);\n        exports.diseaseList.appendChild(item);\n        item.onclick = () => showDiseaseDetail(disease);\n    }\n}\nexports.populateDiseases = populateDiseases;\nconst hideHomePage = () => (exports.tabWidget.style.display = \"none\");\nexports.hideHomePage = hideHomePage;\nconst hideDiseaseDetail = () => modal_1.closeModal();\nexports.hideDiseaseDetail = hideDiseaseDetail;\nconst hideEditForm = () => (exports.editForm.style.display = \"none\");\nexports.hideEditForm = hideEditForm;\nconst showEditForm = () => (exports.editForm.style.display = \"block\");\nexports.showEditForm = showEditForm;\nconst showHomePage = () => {\n    exports.tabWidget.style.display = \"block\";\n    exports.hideEditForm();\n    modal_1.closeModal();\n};\nexports.showHomePage = showHomePage;\nfunction editDisease(activeDisease) {\n    exports.hideHomePage();\n    exports.hideDiseaseDetail();\n    exports.showEditForm();\n    exports.editForm.querySelector(\".disease-name\").innerHTML = activeDisease.name;\n    exports.editForm.querySelector(\"#about\").innerHTML = activeDisease.about;\n    exports.editForm.setAttribute(\"data-id\", activeDisease.id.toString());\n    const cancelBtn = exports.editForm.querySelector(\"#cancel-disease-edit\");\n    const available_symptoms = exports.editForm.querySelector(\"#available_symptoms\");\n    const chosen_symptoms = exports.editForm.querySelector(\"#chosen_symptoms\");\n    const filter_symptoms = exports.editForm.querySelector(\"#filter_symptoms\");\n    const addSymptomBtn = exports.editForm.querySelector(\"button.arrow.right\");\n    const rmvSymptomBtn = exports.editForm.querySelector(\"button.arrow.left\");\n    const available_signs = exports.editForm.querySelector(\"#available_signs\");\n    const chosen_signs = exports.editForm.querySelector(\"#chosen_signs\");\n    const filter_signs = exports.editForm.querySelector(\"#filter_signs\");\n    const addSignBtn = exports.editForm.querySelector(\"button.arrow.right.sign\");\n    const rmvSignBtn = exports.editForm.querySelector(\"button.arrow.left.sign\");\n    const setUpNewDiseaseSymptoms = (symptoms) => {\n        new feature_1.default(available_symptoms, chosen_symptoms, filter_symptoms, addSymptomBtn, rmvSymptomBtn, symptoms).start();\n    };\n    const setUpNewDiseaseSigns = (signs) => {\n        new feature_1.default(available_signs, chosen_signs, filter_signs, addSignBtn, rmvSignBtn, signs).start();\n    };\n    setUpNewDiseaseSymptoms(symptoms);\n    setUpNewDiseaseSigns(signs);\n    exports.selectItems(available_symptoms, activeDisease.symptoms, () => addSymptomBtn.click());\n    exports.selectItems(available_signs, activeDisease.signs, () => addSignBtn.click());\n    cancelBtn.onclick = () => {\n        exports.hideEditForm();\n        exports.showHomePage();\n        showDiseaseDetail(activeDisease);\n    };\n}\nexports.editDisease = editDisease;\nfunction openTab(evt, tabName) {\n    let i, tabcontent, tablinks;\n    tabcontent = document.querySelectorAll(\".tabcontent\");\n    for (i = 0; i < tabcontent.length; i++) {\n        tabcontent[i].style.display = \"none\";\n    }\n    tablinks = document.querySelectorAll(\".tablinks\");\n    for (i = 0; i < tablinks.length; i++) {\n        tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n    }\n    document.getElementById(tabName).style.display = \"block\";\n    evt.currentTarget.className += \" active\";\n}\nexports.openTab = openTab;\nfunction showNameExists(err) {\n    const errorResponses = document.querySelectorAll(\".error-response\");\n    for (let i = 0; i < errorResponses.length; i++) {\n        const elem = errorResponses[i];\n        elem.innerHTML = err;\n        elem.style.visibility = \"visible\";\n    }\n}\nexports.showNameExists = showNameExists;\nconst hideNameExists = () => {\n    const errorResponses = document.querySelectorAll(\".error-response\");\n    for (let i = 0; i < errorResponses.length; i++) {\n        const elem = errorResponses[i];\n        elem.style.visibility = \"hidden\";\n    }\n};\nexports.hideNameExists = hideNameExists;\nconst showErrorMessage = () => {\n    const parag = document.querySelector(\".no-connection\");\n    parag.style.display = \"block\";\n};\nexports.showErrorMessage = showErrorMessage;\nconst hideErrorMessage = () => {\n    const parag = document.querySelector(\".no-connection\");\n    parag.style.display = \"none\";\n};\nexports.hideErrorMessage = hideErrorMessage;\nconst showSpinner = () => {\n    const parag = document.querySelector(\".loading\");\n    parag.style.display = \"block\";\n};\nexports.showSpinner = showSpinner;\nconst hideSpinner = () => {\n    const parag = document.querySelector(\".loading\");\n    parag.style.display = \"none\";\n};\nexports.hideSpinner = hideSpinner;\nfunction showDiseaseDetail(disease) {\n    exports.hideEditForm();\n    const html = disease_template_1.default(disease);\n    modal_1.showDiseaseModal(disease.name, html);\n    const backButton = document.createElement(\"button\");\n    backButton.id = \"backButton\";\n    backButton.className = \"btn\";\n    backButton.innerHTML = \"Back\";\n    const editButton = document.createElement(\"button\");\n    editButton.id = \"editButton\";\n    editButton.className = \"btn\";\n    editButton.innerHTML = \"Edit\";\n    backButton.onclick = () => exports.showHomePage();\n    editButton.onclick = () => editDisease(disease);\n    modal_1.addFooterButtons([backButton, editButton]);\n}\nexports.showDiseaseDetail = showDiseaseDetail;\nfunction addModalFooterButtons(type, onSaveCallback, sandFeatureToMain) {\n    const backButton = document.createElement(\"button\");\n    backButton.id = \"cancelButton\";\n    backButton.className = \"btn\";\n    backButton.innerHTML = \"Cancel\";\n    const saveButton = document.createElement(\"button\");\n    saveButton.id = \"saveButton\";\n    saveButton.className = \"btn\";\n    saveButton.innerHTML = \"Save\";\n    modal_1.addFooterButtons([saveButton, backButton]);\n    const modal = document.querySelector(\".modal\");\n    const form = modal.querySelector(`#${type}-form`);\n    function submitForm() {\n        const name = form.querySelector(\"#name\").value;\n        const description = form.querySelector(\"#desc\").value;\n        if (name.trim() !== \"\" && name.length < 200) {\n            onSaveCallback(name, description)\n                .then(feature => {\n                modal_1.closeModal();\n                exports.showHomePage();\n                if (type === \"symptom\") {\n                    const opt = document.createElement(\"option\");\n                    opt.value = feature.name;\n                    opt.innerHTML = feature.name;\n                    exports.available_symptoms.appendChild(opt);\n                }\n                else if (type === \"sign\") {\n                    const opt = document.createElement(\"option\");\n                    opt.value = feature.name;\n                    opt.innerHTML = feature.name;\n                    exports.available_signs.appendChild(opt);\n                }\n                sandFeatureToMain(feature);\n                alert(`${type} saved successfully!`);\n            })\n                .catch(err => {\n                console.log(err);\n                alert(\"Something went wrong...\");\n            });\n        }\n    }\n    backButton.onclick = () => exports.showHomePage();\n    saveButton.onclick = () => submitForm();\n    form.onsubmit = e => {\n        e.preventDefault();\n        submitForm();\n    };\n}\nexports.addModalFooterButtons = addModalFooterButtons;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Feature {\n    constructor(available, chosen, filter, addBtn, removeBtn, initialData) {\n        this.start = () => {\n            this.addBtn.addEventListener(\"click\", () => {\n                const selected = Array.from(this.available.selectedOptions).map(o => o.value);\n                const alreadySelected = Array.from(this.chosen.options).map(o => o.value);\n                for (const name of selected) {\n                    if (!alreadySelected.includes(name)) {\n                        this.addToChosenData(name);\n                    }\n                }\n            });\n            this.removeBtn.addEventListener(\"click\", () => {\n                var _a;\n                const optionsToRemove = Array.from(this.chosen.selectedOptions).map(o => o.value);\n                for (const option of optionsToRemove) {\n                    (_a = this.chosen.querySelector(`option[value=\"${option}\"]`)) === null || _a === void 0 ? void 0 : _a.remove();\n                    this.addToAvailable(option);\n                }\n            });\n            this.filter.addEventListener(\"input\", e => this.filterData(e.target.value, this.initialData));\n            this.setData(this.initialData);\n        };\n        this.setData = (data) => {\n            this.available.innerHTML = \"\";\n            const alreadySelected = Array.from(this.chosen.options).map(o => o.value);\n            data\n                .filter(s => !alreadySelected.includes(s.name))\n                .forEach(({ name }) => {\n                const option = document.createElement(\"option\");\n                option.value = name;\n                option.appendChild(document.createTextNode(name));\n                this.available.appendChild(option);\n            });\n        };\n        this.filterData = (query, data) => {\n            if (query !== \"\") {\n                const filtered_data = data.filter(s => s.name.toLowerCase().indexOf(query.toLowerCase()) > -1);\n                this.setData(filtered_data);\n            }\n            else {\n                this.setData(data);\n            }\n        };\n        this.addToChosenData = (name) => {\n            const option = document.createElement(\"option\");\n            option.value = name;\n            option.appendChild(document.createTextNode(name));\n            this.chosen.appendChild(option);\n            this.removeFromAvailable(name);\n        };\n        this.removeFromAvailable = (name) => {\n            var _a;\n            (_a = this.available.querySelector(`option[value=\"${name}\"]`)) === null || _a === void 0 ? void 0 : _a.remove();\n        };\n        this.addToAvailable = (name) => {\n            const option = document.createElement(\"option\");\n            option.value = name;\n            option.appendChild(document.createTextNode(name));\n            this.available.appendChild(option);\n        };\n        this.available = available;\n        this.chosen = chosen;\n        this.filter = filter;\n        this.addBtn = addBtn;\n        this.removeBtn = removeBtn;\n        this.initialData = initialData;\n    }\n}\nexports.default = Feature;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api = require(\"./api\");\nconst dom = require(\"./dom\");\nrequire(\"./modal\");\nconst modal_1 = require(\"./modal\");\nlet signs, symptoms, diseases;\nconst getFormData = () => {\n    const name = dom.addDiseaseForm.querySelector(\"#name\").value;\n    const about = dom.addDiseaseForm.querySelector(\"#about\").value;\n    const selectedSymptoms = symptoms.filter(s => Array.from(dom.chosen_symptoms.options)\n        .map(option => option.value)\n        .includes(s.name));\n    const selectedSigns = signs.filter(s => Array.from(dom.chosen_signs.options)\n        .map(option => option.value)\n        .includes(s.name));\n    return {\n        name,\n        symptoms: selectedSymptoms,\n        signs: selectedSigns,\n        about,\n    };\n};\ndom.addDiseaseForm.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    if (!symptoms || !signs || !diseases)\n        return;\n    api\n        .handleSaveNewDisease(getFormData())\n        .then(savedDisease => {\n        dom.populateDiseases([savedDisease], false);\n        dom.hideDiseaseDetail();\n        dom.chosen_signs.innerHTML = \"\";\n        dom.chosen_symptoms.innerHTML = \"\";\n        const sympsNames = Array.from(dom.chosen_symptoms.options).map(option => option.value);\n        const symptomsSelected = symptoms.filter(s => sympsNames.includes(s.name));\n        const signNames = Array.from(dom.chosen_signs.options).map(option => option.value);\n        const signSelected = symptoms.filter(s => signNames.includes(s.name));\n        dom.selectItems(dom.available_symptoms, symptomsSelected);\n        dom.selectItems(dom.available_signs, signSelected);\n        dom.rmvSymptomBtn.click();\n        dom.rmvSignBtn.click();\n        const name = document.querySelector(\"#add-disease-form #name\");\n        if (name) {\n            name.value = \"\";\n            name.focus();\n            name.scrollIntoView({ behavior: \"smooth\" });\n        }\n        alert(`${savedDisease.name} registered successfully!`);\n    })\n        .catch(err => {\n        dom.showNameExists(err);\n    });\n});\ndom.addDiseaseForm.querySelector(\"#name\").addEventListener(\"input\", e => {\n    const input = e.target;\n    const name = input.value.trim();\n    const msg = `${name} is already registered`;\n    if (diseases.map(d => d.name).includes(name)) {\n        input.style.borderColor = \"tomato\";\n        dom.showNameExists(msg);\n    }\n    else {\n        input.style.borderColor = \"lightblue\";\n        dom.hideNameExists();\n    }\n});\ndom.editForm.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const chosen_symptoms = form.querySelector(\"#chosen_symptoms\");\n    const chosen_signs = form.querySelector(\"#chosen_signs\");\n    const id = form.getAttribute(\"data-id\");\n    if (id) {\n        const about = form.querySelector(\"#about\").value;\n        const selectedSymptoms = symptoms.filter(s => Array.from(chosen_symptoms.options)\n            .map(option => option.value)\n            .includes(s.name));\n        const selectedSigns = signs.filter(s => Array.from(chosen_signs.options)\n            .map(option => option.value)\n            .includes(s.name));\n        const data = {\n            symptoms: selectedSymptoms,\n            signs: selectedSigns,\n            about,\n        };\n        try {\n            const disease = await api.handleUpdateDisease(id, data);\n            alert(`${disease.name} updated successfully! The page will refresh for changes!`);\n            window.location.reload();\n        }\n        catch (error) {\n            console.log(error);\n        }\n    }\n});\ndom.regSymptomBtn.onclick = () => {\n    modal_1.showSymptomModal();\n    dom.addModalFooterButtons(\"symptom\", api.saveNewSymptom, (symptom) => symptoms.push(symptom));\n};\ndom.regSignBtn.onclick = () => {\n    modal_1.showSignModal();\n    dom.addModalFooterButtons(\"sign\", api.saveNewSign, (sign) => signs.push(sign));\n};\nconst debounce = (func, delay) => {\n    let timeoutId;\n    return (...args) => {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func(...args);\n        }, delay);\n    };\n};\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    for (let i = 0; i < dom.tabs.length; i++) {\n        const element = dom.tabs[i];\n        element.addEventListener(\"click\", e => {\n            dom.openTab(e, element.getAttribute(\"data-target\"));\n        });\n        document.querySelector(\"button[defaultOpen]\").click();\n    }\n    try {\n        dom.showSpinner();\n        let [diseasesList, symptomsList, signsList] = await Promise.all([\n            api.fetchDiseases(),\n            api.fetchSymptoms(),\n            api.fetchSigns(),\n        ]);\n        dom.hideErrorMessage();\n        symptoms = symptomsList;\n        signs = signsList;\n        diseases = diseasesList;\n        dom.setDOMState(diseases, symptoms, signs);\n    }\n    catch (error) {\n        dom.showErrorMessage();\n    }\n    finally {\n        dom.hideSpinner();\n    }\n    const container = document.querySelector(\".container\");\n    let resized = false;\n    container.onscroll = e => {\n        if (resized)\n            return false;\n        debounce(() => {\n            const diff = e.target.scrollTop;\n            if (diff > 100) {\n                dom.header.style.padding = \"0.25rem 1rem\";\n                dom.header.style.overflow = \"hidden\";\n                resized = true;\n            }\n        }, 300);\n    };\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.showSignModal = exports.showSymptomModal = exports.showDiseaseModal = exports.addFooterButtons = exports.closeModal = void 0;\nconst modal = document.querySelector(\".modal\");\nconst overlay = document.querySelector(\".overlay\");\nconst modalTitle = modal.querySelector(\".modal-header .modal-title\");\nconst closeButtons = modal.querySelectorAll(\".modal-close\");\nconst modalBody = modal.querySelector(\".modal-body .modal-content\");\nconst modalFooter = modal.querySelector(\".modal-footer .action-buttons\");\nconst closeModal = (callback = () => { }) => {\n    document.body.classList.remove(\"modal-open\");\n    overlay.classList.remove(\"modal-open\");\n    modal.classList.remove(\"open\");\n    callback();\n};\nexports.closeModal = closeModal;\nconst openModal = () => {\n    document.body.classList.add(\"modal-open\");\n    overlay.classList.add(\"modal-open\");\n    modal.classList.add(\"open\");\n};\ncloseButtons.forEach(btn => {\n    btn.addEventListener(\"click\", () => exports.closeModal());\n});\nconst addFooterButtons = (buttons) => {\n    modalFooter.innerHTML = \"\";\n    buttons.forEach(btn => modalFooter.appendChild(btn));\n};\nexports.addFooterButtons = addFooterButtons;\nconst showDiseaseModal = (title, html) => {\n    modalTitle.innerHTML = title;\n    modalBody.innerHTML = html;\n    openModal();\n};\nexports.showDiseaseModal = showDiseaseModal;\nconst showSymptomModal = () => {\n    modalTitle.innerHTML = \"New symptom\";\n    const html = `\n  <form id=\"symptom-form\"  class=\"feature-form\">\n    <fieldset>\n      <legend>Register new medical symptom</legend>\n      <div className=\"form-group\">\n        <label for=\"name\">Name: </label>\n        <input id=\"name\" name=\"name\" class=\"form-input\" autocomplete=\"off\" required/>\n      </div>\n      <div className=\"form-group\">\n        <label for=\"desc\">Description: </label>\n        <textarea id=\"desc\" name=\"description\" cols=\"30\" rows=\"5\"></textarea>\n      </div>\n    </fieldset>\n  </form>\n  `;\n    modalBody.innerHTML = html;\n    openModal();\n};\nexports.showSymptomModal = showSymptomModal;\nconst showSignModal = () => {\n    modalTitle.innerHTML = \"New medical sign\";\n    const html = `\n  <form id=\"sign-form\" class=\"feature-form\">\n    <fieldset>\n      <legend>Register new medical sign</legend>\n      <div class=\"form-group\">\n        <label for=\"name\">Name: </label>\n        <input id=\"name\" name=\"name\" class=\"form-input\" autocomplete=\"off\" required/>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"desc\">Description: </label>\n        <textarea id=\"desc\" name=\"description\"  cols=\"30\" rows=\"5\"></textarea>\n      </div>\n    </fieldset>\n  </form>\n  `;\n    modalBody.innerHTML = html;\n    openModal();\n};\nexports.showSignModal = showSignModal;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module\n__webpack_require__(337);\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}